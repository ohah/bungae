---
description: "커밋 전 필수 린트 및 포맷 체크 규칙. 코드 품질 유지 및 일관성 보장."
alwaysApply: true
---

# Pre-Commit Lint 규칙

이 프로젝트는 **커밋 전에 반드시 린트와 포맷 체크를 실행**해야 합니다.
코드 품질을 유지하고 일관성을 보장하기 위한 필수 규칙입니다.

## 필수 규칙

### ✅ 커밋 메시지 규칙

**모든 커밋 메시지는 반드시 영어로 작성해야 합니다.**

- ✅ 올바른 예시:
  ```bash
  git commit -m "feat: implement Metro-compatible asset handling"
  git commit -m "fix: resolve path normalization issue in dev server"
  git commit -m "refactor: improve error handling in bundler"
  ```

- ❌ 잘못된 예시:
  ```bash
  git commit -m "feat: Metro 호환 에셋 처리 구현"
  git commit -m "fix: 개발 서버 경로 정규화 문제 해결"
  ```

**커밋 메시지 형식:**
- Conventional Commits 형식 사용: `type: description`
- 타입: `feat`, `fix`, `refactor`, `docs`, `test`, `chore` 등
- 설명: 간결하고 명확하게 작성 (50자 이내 권장)

### ✅ 커밋 전 필수 단계

커밋하기 전에 반드시 다음 명령어들을 실행하세요:

```bash
# 1. 린트 체크 (경고도 에러로 처리)
mise exec -- bun run lint

# 2. 포맷 체크 (자동 수정 없이 체크만)
mise exec -- bun run format:check

# 3. 타입 체크 (TypeScript)
mise exec -- bun run typecheck
```

### ✅ 자동 수정 가능한 경우

린트나 포맷 문제가 발견되면 자동 수정을 시도할 수 있습니다:

```bash
# 린트 자동 수정
mise exec -- bun run lint:fix

# 포맷 자동 적용
mise exec -- bun run format
```

### ❌ 잘못된 방법

린트 체크 없이 커밋하면 CI/CD에서 실패할 수 있습니다:

```bash
# ❌ 잘못된 예시 - 린트 체크 없이 커밋
git add .
git commit -m "feat: add new feature"

# ❌ 잘못된 예시 - mise exec 없이 실행
bun run lint
bun run format:check
```

## 권장 워크플로우

### 1. 코드 작성 후

```bash
# 린트 체크
mise exec -- bun run lint

# 문제가 있으면 자동 수정
mise exec -- bun run lint:fix
mise exec -- bun run format
```

### 2. 커밋 전 최종 체크

```bash
# 모든 체크 실행
mise exec -- bun run lint
mise exec -- bun run format:check
mise exec -- bun run typecheck

# 모두 통과하면 커밋 (영어로 메시지 작성)
git add .
git commit -m "feat: your commit message in English"
```

### 3. 빠른 체크 (선택사항)

모든 체크를 한 번에 실행하려면:

```bash
mise exec -- bun run lint && \
mise exec -- bun run format:check && \
mise exec -- bun run typecheck
```

## CI/CD 통합

GitHub Actions에서도 동일한 체크가 실행됩니다:
- `.github/workflows/lint.yml` - 린트 및 포맷 체크
- `.github/workflows/test.yml` - 테스트 실행

로컬에서 통과한 코드만 커밋하여 CI/CD 실패를 방지하세요.

## 사용 가능한 스크립트

| 명령어 | 설명 |
|--------|------|
| `bun run lint` | 린트 체크 (경고도 에러로 처리) |
| `bun run lint:fix` | 린트 자동 수정 |
| `bun run format` | 코드 포맷 자동 적용 |
| `bun run format:check` | 포맷 체크 (자동 수정 없음) |
| `bun run typecheck` | TypeScript 타입 체크 |

## 참고

- 모든 명령어는 `mise exec --`를 앞에 붙여서 실행해야 합니다
- 린트는 `oxlint`를 사용하며, 경고도 에러로 처리합니다 (`--deny-warnings`)
- 포맷은 `oxfmt`를 사용합니다
- CI/CD 실패를 방지하기 위해 로컬에서 반드시 체크하세요
